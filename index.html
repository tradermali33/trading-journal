<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trading Journal</title>

<style>
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,system-ui;
  background:#0b0e1a;
  color:#e6e8eb;
  padding:20px;
}

body.light{
  background:#f4f6fa;
  color:#111;
}

header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:24px;
}

h1{margin:0;font-size:26px}

.theme-btn{
  background:none;
  border:none;
  font-size:26px;
  cursor:pointer;
}

.dashboard{
  display:grid;
  gap:18px;
}

.card{
  background:#131722;
  border-radius:16px;
  padding:20px;
  box-shadow:0 8px 24px rgba(0,0,0,.35);
}

body.light .card{
  background:#fff;
}

.value{
  font-size:28px;
  font-weight:700;
  margin-top:6px;
}

input{
  width:100%;
  padding:12px;
  font-size:18px;
  margin:12px 0;
  border-radius:10px;
  border:none;
}

.btn{
  width:100%;
  padding:14px;
  margin-top:10px;
  border:none;
  border-radius:12px;
  background:#2563eb;
  color:#fff;
  font-size:18px;
  cursor:pointer;
}

.smc-uyumlu{border-left:6px solid #22c55e;border-right:6px solid #22c55e;}
.smc-riskli{border-left:6px solid #facc15;border-right:6px solid #facc15;}
.smc-disi{border-left:6px solid #ef4444;border-right:6px solid #ef4444;}

footer{
  margin-top:30px;
  text-align:center;
  opacity:.6;
  font-size:14px;
}
</style>
</head>

<body>

<header>
  <h1>üìä Trading Journal</h1>
  <button class="theme-btn" onclick="toggleTheme()">üåô</button>
</header>

<section class="dashboard">

<div class="card">
  <div>üè¶ Kasa</div>
  <div class="value" id="kasaValue"></div>

  <input id="amountInput" type="number" placeholder="Tutar gir">

  <button class="btn" onclick="kasaIslem('yatir')">‚ûï Yatƒ±r</button>
  <button class="btn" onclick="kasaIslem('cek')">‚ûñ √áek</button>
</div>

<div class="card" id="smcCard">
  <div>üí∞ SMC Durumu</div>
  <div class="value" id="smcValue"></div>

  <button class="btn" onclick="setSMC('Uyumlu')">‚úÖ Uyumlu</button>
  <button class="btn" onclick="setSMC('Riskli')">‚ö†Ô∏è Riskli</button>
  <button class="btn" onclick="setSMC('Dƒ±≈üƒ±')">‚ùå Dƒ±≈üƒ±</button>
</div>

<div class="card">
  <div>üìä Toplam √ñzet</div>
  <div class="value">‚ûï <span id="toplamYatirilan"></span></div>
  <div class="value">‚ûñ <span id="toplamCekilen"></span></div>
</div>

<div class="card">
  <div>üß† Analist Yorumu</div>
  <div class="value">Disiplinli üëç</div>
</div>

</section>

<footer>
  Kendi kendinin analisti ‚Ä¢ Trading Journal
</footer>

<script>
/* ===== THEME ===== */
function toggleTheme(){
  document.body.classList.toggle("light");
}

/* ===== DATA ===== */
const defaultData = {
  kasa: 100000,
  toplamYatirilan: 0,
  toplamCekilen: 0,
  smc: "Uyumlu",
  loglar: []
};

let journal = JSON.parse(localStorage.getItem("journal")) || defaultData;

function save(){
  localStorage.setItem("journal", JSON.stringify(journal));
}

/* ===== UI ===== */
function updateUI(){
  document.getElementById("kasaValue").innerText =
    journal.kasa.toLocaleString("tr-TR") + " ‚Ç∫";

  document.getElementById("toplamYatirilan").innerText =
    journal.toplamYatirilan.toLocaleString("tr-TR") + " ‚Ç∫";

  document.getElementById("toplamCekilen").innerText =
    journal.toplamCekilen.toLocaleString("tr-TR") + " ‚Ç∫";

  document.getElementById("smcValue").innerText = journal.smc;

  updateSMCStyle();
}

function updateSMCStyle(){
  const card = document.getElementById("smcCard");
  card.className = "card";

  if(journal.smc === "Uyumlu") card.classList.add("smc-uyumlu");
  if(journal.smc === "Riskli") card.classList.add("smc-riskli");
  if(journal.smc === "Dƒ±≈üƒ±") card.classList.add("smc-disi");
}

/* ===== ACTIONS ===== */
function kasaIslem(tip){
  const tutar = Number(document.getElementById("amountInput").value);
  if(!tutar || tutar <= 0) return alert("Tutar gir");

  if(tip === "yatir"){
    journal.kasa += tutar;
    journal.toplamYatirilan += tutar;
  }else{
    journal.kasa -= tutar;
    journal.toplamCekilen += tutar;
  }

  journal.loglar.push({
    tip,
    tutar,
    tarih:new Date().toLocaleString("tr-TR")
  });

  save();
  updateUI();
  document.getElementById("amountInput").value = "";
}

function setSMC(durum){
  journal.smc = durum;
  save();
  updateUI();
}

updateUI();
</script>

</body>
</html>