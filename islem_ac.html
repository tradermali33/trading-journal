<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Yeni Ä°ÅŸlem AÃ§</title>

<style>
:root{
  --bg:#f4f6fa;
  --card:#ffffff;
  --text:#111;
  --muted:#777;
  --green:#2ecc71;
  --red:#e74c3c;
  --yellow:#f1c40f;
}

*{box-sizing:border-box}
body{
  margin:0;
  background:var(--bg);
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
  padding:16px;
  color:var(--text);
}

.card{
  background:var(--card);
  border-radius:16px;
  padding:16px;
  margin-bottom:14px;
  box-shadow:0 8px 24px rgba(0,0,0,.06);
}

h1{
  margin:0 0 10px;
  font-size:26px;
}

label{
  font-weight:600;
  display:block;
  margin-bottom:6px;
}

input,select,textarea{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:1px solid #ddd;
  font-size:16px;
}

textarea{min-height:90px}

.row{
  display:flex;
  gap:10px;
}

.badges{
  display:flex;
  gap:10px;
}

.badge{
  flex:1;
  padding:14px;
  text-align:center;
  border-radius:14px;
  font-weight:700;
  cursor:pointer;
  background:#eaeaea;
}

.badge.green.active{background:var(--green);color:#fff}
.badge.red.active{background:var(--red);color:#fff}
.badge.gray.active{background:#95a5a6;color:#fff}

.tagbox{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
}

.tag{
  padding:10px 14px;
  border-radius:14px;
  background:#eef1f5;
  cursor:pointer;
  font-weight:600;
}

.tag.active{
  background:#2563eb;
  color:#fff;
}

.btn{
  width:100%;
  padding:18px;
  border-radius:16px;
  border:none;
  font-size:18px;
  font-weight:800;
  cursor:pointer;
}

.btn-green{background:var(--green);color:#fff}
.btn-yellow{background:var(--yellow)}
.btn-red{background:var(--red);color:#fff}

.kasa{
  text-align:center;
  font-size:22px;
  font-weight:800;
}
</style>
</head>

<body>

<div class="card">
  <h1>âš¡ Yeni Ä°ÅŸlem AÃ§</h1>
</div>

<div class="card">
  <label>VarlÄ±k</label>
  <input id="varlik" placeholder="ALKA / BTCUSDT"/>
</div>

<div class="card">
  <label>Trend YÃ¶nÃ¼</label>
  <div class="badges">
    <div class="badge green" onclick="setTrend(this,'YUKSELEN')">YÃ¼kselen</div>
    <div class="badge red" onclick="setTrend(this,'DUSEN')">DÃ¼ÅŸen</div>
    <div class="badge gray" onclick="setTrend(this,'YATAY')">Yatay</div>
  </div>
</div>

<div class="card">
  <label>Zaman Dilimi</label>
  <select id="tf">
    <option>1m</option><option>5m</option><option selected>15m</option>
    <option>1h</option><option>4h</option><option>1d</option>
  </select>
</div>

<div class="card">
  <label>GiriÅŸ FiyatÄ±</label>
  <input id="giris" type="number" step="any"/>
</div>

<div class="card">
  <div class="row">
    <div>
      <label>Adet</label>
      <input id="adet" type="number" step="any"/>
    </div>
    <div>
      <label>Stop %</label>
      <select id="stopOran">
        <option value="1">1%</option>
        <option value="2">2%</option>
        <option value="3">3%</option>
      </select>
    </div>
  </div>
</div>

<div class="card">
  <label>ğŸ¯ Teknik Analiz Paneli</label>

  <b>SMC</b>
  <div class="tagbox">
    <div class="tag">BOS</div>
    <div class="tag">CHoCH</div>
    <div class="tag">OB</div>
    <div class="tag">Likidite</div>
    <div class="tag">FVG</div>
    <div class="tag">Sweep</div>
  </div>

  <br><b>EMA</b>
  <div class="tagbox">
    <div class="tag">9</div><div class="tag">21</div>
    <div class="tag">50</div><div class="tag">200</div>
  </div>

  <br><b>RSI / MACD / Hacim</b>
  <div class="tagbox">
    <div class="tag">RSI</div>
    <div class="tag">MACD</div>
    <div class="tag">Hacim</div>
  </div>

  <br><b>DiÄŸer (zorunlu)</b>
  <textarea id="aciklama"></textarea>
</div>

<div class="card">
  <label>TP Seviyeleri</label>
  <input id="tp1" placeholder="TP1"/>
  <input id="tp2" placeholder="TP2" style="margin-top:8px"/>
  <input id="tp3" placeholder="TP3" style="margin-top:8px"/>
</div>

<div class="card">
  <button id="btnAuto" class="btn btn-yellow">ğŸš¨ Otomatik Ä°ÅŸlem SonlandÄ±r</button>
</div>

<div class="card">
  <button id="btnManual" class="btn btn-red">â›” Manuel Ä°ÅŸlem SonlandÄ±r</button>
</div>

<div class="card">
  <button id="btnIslemBaslat" class="btn btn-green">âš¡ Ä°ÅLEM BAÅLAT âš¡</button>
</div>

<div class="card kasa">
  ğŸ¦ Ä°ÅŸlem SonrasÄ± Kasa<br>
  <span id="kasa">0 TL</span>
</div>

<script src="core.js"></script>

<script>
let trend=null;

function setTrend(el,val){
  document.querySelectorAll(".badge").forEach(b=>b.classList.remove("active"));
  el.classList.add("active");
  trend=val;
}

document.querySelectorAll(".tag").forEach(t=>{
  t.onclick=()=>t.classList.toggle("active");
});

document.getElementById("btnIslemBaslat").onclick=()=>{
  const data={
    varlik:varlik.value,
    giris:+giris.value,
    adet:+adet.value,
    stopOran:+stopOran.value,
    stop:+giris.value*(1-stopOran.value/100),
    tp1:+tp1.value||0,
    tp2:+tp2.value||0,
    tp3:+tp3.value||0,
    trend,
    tf:tf.value,
    aciklama:aciklama.value
  };

  if(!data.varlik||!data.giris||!data.adet||!data.aciklama){
    alert("Zorunlu alanlar boÅŸ");
    return;
  }

  Core.islemBaslat(data);
  alert("Ä°ÅŸlem aÃ§Ä±ldÄ±");
};
</script>

</body>
</html>